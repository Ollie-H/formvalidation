!function(t){function e(e,s,r){return this.settings={error:function(){},success:function(){},"default":function(){return t(this).val().length>0},email:function(){return window.config.regex.email.test(t(this).val())},date:function(e){var s=1*t(e[0]).val(),r=1*t(e[1]).val()-1,n=1*t(e[2]).val(),i=new Date(n,r,s);return i.getMonth()==r&&i.getDate()==s&&i.getFullYear()==n}},r&&t.extend(this.settings,r),this.container=t(s),this.fields=t(s).find(".js-field"),this.fieldCount=this.fields.length,this.errors=0,this.errorsFound=!1,this.e=e,this.validate(),this}e.prototype={validate:function(){var e=this;if(t.each(t(this.fields),function(s,r){var n=t(r).parents(".form__row"),i=t(n).hasClass("js-required"),o=t(n).find(".js-subfield"),a=t(r).attr("data-type")||"default";t(n).removeClass("has-error"),o.length>0&&i?"function"==typeof e.settings[a]&&e.error(!e.settings[a].call(this,o),r):i&&"function"==typeof e.settings[a]&&e.error(!e.settings[a].call(this),r)}),e.errorsFound){if(e.e&&"keydown"!=e.e.type)return"function"==typeof e.settings.error&&e.settings.error.call(),e.e.preventDefault(),!1}else"function"==typeof e.settings.success&&e.settings.success.call()},error:function(e,s){e&&(t(s).parents(".form__row").addClass("has-error"),this.errorsFound=!0,this.errors++)}},window.FormValidation=e}(jQuery);